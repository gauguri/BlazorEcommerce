@inject ICategoryService CategoryService

<nav class="nav-shell surface">
    <div class="nav-bar">
        <h2 class="nav-heading">Shop the collection</h2>
        <button class="menu-toggle" @onclick="ToggleNavMenu">
            <span class="oi oi-menu"></span>
            <span>@(collapseNavMenu ? "Browse" : "Close")</span>
        </button>
    </div>
    <ul class="nav-links @(collapseNavMenu ? string.Empty : "open")">
        <li class="nav-item">
            <NavLink class="nav-link" href="" Match="NavLinkMatch.All" @onclick="CloseMenu">Home</NavLink>
        </li>
        @foreach (var category in CategoryService.Categories)
        {
            <li class="nav-item">
                <NavLink class="nav-link" href="@category.Url" @onclick="CloseMenu">@category.Name</NavLink>
            </li>
        }
    </ul>
</nav>

@code {
    private bool collapseNavMenu = true;

    private void ToggleNavMenu()
    {
        collapseNavMenu = !collapseNavMenu;
    }

    private void CloseMenu()
    {
        collapseNavMenu = true;
    }

    protected override async Task OnInitializedAsync()
    {
        await CategoryService.GetCategories();
    }
}
